{"ast":null,"code":"import _objectSpread from\"D:/Abhi/My Project/PHP/Basic_Banking_System/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:/Abhi/My Project/PHP/Basic_Banking_System/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/Abhi/My Project/PHP/Basic_Banking_System/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/Abhi/My Project/PHP/Basic_Banking_System/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/Abhi/My Project/PHP/Basic_Banking_System/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Modal,Button,Form,Alert}from'react-bootstrap';import\"bootstrap/dist/css/bootstrap.css\";import axios from'axios';import config from\"../config\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var ModalView=/*#__PURE__*/function(_Component){_inherits(ModalView,_Component);var _super=_createSuper(ModalView);function ModalView(props){var _this;_classCallCheck(this,ModalView);_this=_super.call(this,props);_this.handleSender=function(event){_this.setState(function(prevState){return{transaction:_objectSpread(_objectSpread({},prevState.transaction),{},{sender:event.target.value})};});axios.get(\"\".concat(config.apiUrl,\"/select_cust.php?cust_id=\").concat(event.target.value)).then(function(res){_this.setState({receiver_data:res.data});// console.log(this.state.receiver_data);\n},function(error){console.log(error);});};_this.handleReceiver=function(event){_this.setState(function(prevState){return{transaction:_objectSpread(_objectSpread({},prevState.transaction),{},{receiver:event.target.value})};});};_this.handleAmount=function(event){_this.setState(function(prevState){return{transaction:_objectSpread(_objectSpread({},prevState.transaction),{},{amount:event.target.value})};});};_this.handleReload=function(){_this.setState({isShow:false});window.location.reload();};_this.transferMoney=function(e){e.preventDefault();axios({method:\"post\",url:\"\".concat(config.apiUrl,\"/transferMoney.php\"),headers:{\"content-type\":\"application/json\"},data:_this.state.transaction}).then(function(out){_this.setState({success:out.data});}).catch(function(er){_this.setState({error:er.message});});};_this.state={sender_data:[],receiver_data:[],transaction:{sender:\"\",receiver:\"\",amount:\"\"},success:false};return _this;}_createClass(ModalView,[{key:\"render\",value:function render(){var isShow=this.props.show;var isHide=this.props.hideClose;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Modal,{show:isShow,onHide:isHide,children:[/*#__PURE__*/_jsxs(Modal.Header,{children:[/*#__PURE__*/_jsx(Modal.Title,{children:\"Transfer Money\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn-close\",onClick:isHide})]}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Sender\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",name:\"sender\",onChange:this.handleSender.bind(this),children:[/*#__PURE__*/_jsx(\"option\",{children:\"--Select Sender--\"}),this.state.sender_data.map(function(sd){return/*#__PURE__*/_jsx(\"option\",{value:sd.cust_id,children:sd.cust_name},sd.cust_id);})]})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Receiver\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",name:\"receiver\",onChange:this.handleReceiver.bind(this),children:[/*#__PURE__*/_jsx(\"option\",{children:\"--Select Receiver--\"}),this.state.receiver_data.map(function(rd){return/*#__PURE__*/_jsx(\"option\",{value:rd.cust_id,children:rd.cust_name},rd.cust_id);})]})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"amount\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Transfer Amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"amount\",placeholder:\"Enter Amount\",className:\"form-control\",onChange:this.handleAmount.bind(this),required:true})]})]}),this.state.success?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Alert,{variant:\"success\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Transaction Successfull.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Transaction details recorded successfully. \"})]})}):null]}),/*#__PURE__*/_jsx(Modal.Footer,{children:!this.state.success?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:isHide,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{variant:\"warning\",onClick:this.transferMoney,children:\"Tranfer Money\"})]}):/*#__PURE__*/_jsx(Button,{variant:\"warning\",onClick:this.handleReload,children:\"OK\"})})]})});}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){return{sender_data:props.sender_data};}}]);return ModalView;}(Component);export default ModalView;","map":{"version":3,"sources":["D:/Abhi/My Project/PHP/Basic_Banking_System/frontend/src/components/ModalView.js"],"names":["React","Component","Modal","Button","Form","Alert","axios","config","ModalView","props","handleSender","event","setState","prevState","transaction","sender","target","value","get","apiUrl","then","res","receiver_data","data","error","console","log","handleReceiver","receiver","handleAmount","amount","handleReload","isShow","window","location","reload","transferMoney","e","preventDefault","method","url","headers","state","out","success","catch","er","message","sender_data","show","isHide","hideClose","bind","map","sd","cust_id","cust_name","rd"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Modal, Button, Form, Alert } from 'react-bootstrap'\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport axios from 'axios';\r\nimport config from \"../config\"\r\n\r\nexport class ModalView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      sender_data: [],\r\n      receiver_data: [],\r\n      transaction: {\r\n        sender: \"\",\r\n        receiver: \"\",\r\n        amount: \"\",\r\n      },\r\n      success: false,\r\n    };\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    return { sender_data: props.sender_data };\r\n  }\r\n\r\n  handleSender = (event) => {\r\n    this.setState((prevState) => ({\r\n      transaction: {\r\n        ...prevState.transaction,\r\n        sender: event.target.value,\r\n      },\r\n    }));\r\n    axios\r\n      .get(`${config.apiUrl}/select_cust.php?cust_id=${event.target.value}`)\r\n      .then(\r\n        (res) => {\r\n          this.setState({ receiver_data: res.data });\r\n          // console.log(this.state.receiver_data);\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n        }\r\n      );\r\n  };\r\n  handleReceiver = (event) => {\r\n    this.setState((prevState) => ({\r\n      transaction: {\r\n        ...prevState.transaction,\r\n        receiver: event.target.value,\r\n      },\r\n    }));\r\n  };\r\n  handleAmount = (event) => {\r\n    this.setState((prevState) => ({\r\n      transaction: {\r\n        ...prevState.transaction,\r\n        amount: event.target.value,\r\n      },\r\n    }));\r\n  };\r\n  handleReload = () => {\r\n    this.setState({ isShow: false });\r\n    window.location.reload();\r\n  };\r\n  transferMoney = (e) => {\r\n    e.preventDefault();\r\n    axios({\r\n      method: \"post\",\r\n      url: `${config.apiUrl}/transferMoney.php`,\r\n      headers: { \"content-type\": \"application/json\" },\r\n      data: this.state.transaction,\r\n    })\r\n      .then((out) => {\r\n        this.setState({ success: out.data });\r\n      })\r\n      .catch((er) => {\r\n        this.setState({ error: er.message });\r\n      });\r\n  };\r\n  render() {\r\n    const isShow = this.props.show;\r\n    const isHide = this.props.hideClose;\r\n    return (\r\n      <div>\r\n        {/* Modal Code */}\r\n        <Modal show={isShow} onHide={isHide}>\r\n          <Modal.Header>\r\n            <Modal.Title>Transfer Money</Modal.Title>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn-close\"\r\n              onClick={isHide}\r\n            ></button>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Form>\r\n              <Form.Group>\r\n                <Form.Label>Sender</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  name=\"sender\"\r\n                  onChange={this.handleSender.bind(this)}\r\n                >\r\n                  <option>--Select Sender--</option>\r\n                  {this.state.sender_data.map((sd) => {\r\n                    return (\r\n                      <option key={sd.cust_id} value={sd.cust_id}>\r\n                        {sd.cust_name}\r\n                      </option>\r\n                    );\r\n                  })}\r\n                </Form.Control>\r\n              </Form.Group>\r\n\r\n              <Form.Group>\r\n                <Form.Label>Receiver</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  name=\"receiver\"\r\n                  onChange={this.handleReceiver.bind(this)}\r\n                >\r\n                  <option>--Select Receiver--</option>\r\n                  {this.state.receiver_data.map((rd) => {\r\n                    return (\r\n                      <option key={rd.cust_id} value={rd.cust_id}>\r\n                        {rd.cust_name}\r\n                      </option>\r\n                    );\r\n                  })}\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group controlId=\"amount\">\r\n                <Form.Label>Transfer Amount</Form.Label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"amount\"\r\n                  placeholder=\"Enter Amount\"\r\n                  className=\"form-control\"\r\n                  onChange={this.handleAmount.bind(this)}\r\n                  required\r\n                />\r\n              </Form.Group>\r\n            </Form>\r\n            {this.state.success ? (\r\n              <>\r\n                <Alert variant=\"success\">\r\n                  <p>Transaction Successfull.</p>\r\n                  <p>Transaction details recorded successfully. </p>\r\n                </Alert>\r\n              </>\r\n            ) : null}\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            {!this.state.success ? (\r\n              <>\r\n                <Button variant=\"danger\" onClick={isHide}>\r\n                  Close\r\n                </Button>\r\n                <Button variant=\"warning\" onClick={this.transferMoney}>\r\n                  Tranfer Money\r\n                </Button>\r\n              </>\r\n            ) : (\r\n              <Button variant=\"warning\" onClick={this.handleReload}>\r\n                OK\r\n              </Button>\r\n            )}\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ModalView;\r\n"]},"metadata":{},"sourceType":"module"}